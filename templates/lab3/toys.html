{% extends "base.html" %}

{% block title %}–ü–æ–∏—Å–∫ –∏–≥—Ä—É—à–µ–∫{% endblock %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3{% endblock %}

{% block main %}
<div class="container">
    <h1>üéÆ –ü–æ–∏—Å–∫ –∏–≥—Ä—É—à–µ–∫ –ø–æ —Ü–µ–Ω–µ</h1>
    
    <!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
    <div class="search-form">
        <form method="GET">
            <div class="price-inputs">
                <div class="input-group">
                    <label for="min_price">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (—Ä—É–±.):</label>
                    <input type="number" id="min_price" name="min_price" 
                           value="{{ min_price }}" 
                           placeholder="{{ min_all_price }}"
                           min="0" step="10">
                </div>
                
                <div class="input-group">
                    <label for="max_price">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (—Ä—É–±.):</label>
                    <input type="number" id="max_price" name="max_price" 
                           value="{{ max_price }}" 
                           placeholder="{{ max_all_price }}"
                           min="0" step="10">
                </div>
            </div>
            
            <div class="form-buttons">
                <button type="submit" name="search" class="btn btn-primary">üîç –ò—Å–∫–∞—Ç—å</button>
                <button type="submit" name="reset" value="1" class="btn btn-secondary">üîÑ –°–±—Ä–æ—Å</button>
            </div>
        </form>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats">
        <p>
            <strong>–ù–∞–π–¥–µ–Ω–æ –∏–≥—Ä—É—à–µ–∫:</strong> {{ found_count }} –∏–∑ {{ total_count }}
            {% if min_price or max_price %}
                –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 
                {% if min_price %}{{ min_price }}{% else %}0{% endif %} - 
                {% if max_price %}{{ max_price }}{% else %}‚àû{% endif %} —Ä—É–±.
            {% endif %}
        </p>
    </div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
    <div class="toys-results">
        {% if toys %}
            <div class="toys-grid">
                {% for toy in toys %}
                <div class="toy-card">
                    <div class="toy-info">
                        <h3>{{ toy.name }}</h3>
                        <p class="toy-brand">{{ toy.brand }}</p>
                        <p class="toy-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ toy.category }}</p>
                        <p class="toy-age">–í–æ–∑—Ä–∞—Å—Ç: {{ toy.age }}</p>
                        <p class="toy-price">{{ toy.price }} —Ä—É–±.</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="no-results">
                <h3>üòî –ù–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–π –∏–≥—Ä—É—à–∫–∏</h3>
                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω</p>
            </div>
        {% endif %}
    </div>

    <div class="navigation">
        <a href="/lab3/" class="btn">‚Üê –ù–∞–∑–∞–¥ –∫ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ 3</a>
    </div>
</div>
{% endblock %}