<!DOCTYPE html>
<html>
<head>
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞–º–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ)</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='lab1.css') }}">
</head>
<body>
    <div class="container">
        <h1>üå∑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞–º–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ)</h1>
        
        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∫–∞ -->
        <div class="add-flower-form">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ü–≤–µ—Ç–æ–∫</h2>
            <form method="POST" action="{{ url_for('add_flower_advanced') }}">
                <input type="text" name="name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–∫–∞" required>
                <input type="number" name="price" placeholder="–¶–µ–Ω–∞" min="0" required>
                <button type="submit" class="btn">–î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats">
            <p><strong>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–≤–µ—Ç–æ–≤:</strong> {{ flowers|length }}</p>
            <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> {{ total_price }} —Ä—É–±.</p>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ —Ü–≤–µ—Ç–æ–≤ -->
        <div class="flower-list">
            <h2>–°–ø–∏—Å–æ–∫ —Ü–≤–µ—Ç–æ–≤:</h2>
            {% if flowers %}
                <table class="flowers-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th>–¶–µ–Ω–∞</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for flower in flowers %}
                        <tr>
                            <td>{{ flower.id }}</td>
                            <td>{{ flower.name }}</td>
                            <td>{{ flower.price }} —Ä—É–±.</td>
                            <td>
                                <a href="{{ url_for('delete_flower_advanced', flower_id=flower.id) }}" 
                                   class="btn-delete"
                                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —Ü–≤–µ—Ç–æ–∫ {{ flower.name }}?')">
                                    ‚ùå –£–¥–∞–ª–∏—Ç—å
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p class="empty-message">üì≠ –°–ø–∏—Å–æ–∫ —Ü–≤–µ—Ç–æ–≤ –ø—É—Å—Ç</p>
            {% endif %}
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ -->
        {% if flowers %}
        <div class="clear-all">
            <a href="{{ url_for('clear_flowers_advanced') }}" 
               class="btn-clear-all"
               onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –í–°–ï —Ü–≤–µ—Ç—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!')">
               üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ü–≤–µ—Ç—ã
            </a>
        </div>
        {% endif %}

        <div class="navigation">
            <a href="/lab2/" class="btn">‚Üê –ù–∞–∑–∞–¥ –∫ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ 2</a>
            <a href="/lab2/flowers" class="btn">üìã –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è</a>
        </div>
    </div>
</body>
</html>